<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {
	  margin: 0;
	  touch-action: none;
      }
      canvas {
	  display: block;
      }
    </style>
  </head>
  <body>
    <!--<script src="../cannon.js-master/libs/Three.js"></script>-->
    <script src="../textiles/three.min.js"></script>
    <!--<script src="../gallery/js/OrbitControls.js"></script>-->
    <!--<script src="../cannon.js-master/examples/js/PointerLockControls.js"></script>-->
    <!--<script src="../cannon.js-master/build/cannon.min.js"></script>-->
    <script src="movCameraM.js"></script>
    <script>
      //import * as THREE from "../gallery/js/three.module.js";
      //import {GUI} from "../gallery/js/dat.gui.module.js";
      //import {MapControls} from "../gallery/js/OrbitControls.js";
      
      var scene, camera, renderer;
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(60,
        window.innerWidth/window.innerHeight);
      camera.position.x = 5;
      camera.rotation.y = Math.PI/3;
      renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth,window.innerHeight);
      document.body.appendChild(renderer.domElement);

      var txrFloor = new THREE.TextureLoader(); 
      var floorTxr = new txrFloor.load("../textiles/img/PISOa.png");
      var floor = new THREE.Mesh(
	  new THREE.PlaneGeometry(10,20,10,10),
	  new THREE.MeshBasicMaterial({color:0xffffff,map:floorTxr}));
      floor.rotation.x = -Math.PI/2;
      floor.rotation.z = Math.PI/2;
      floor.position.y = -2;      
      scene.add(floor);

      //nuevo 
      //var controls = new MapControls(camera,renderer.domElement);
      //var controls = new PointerLockControls(camera,document.body);
      //scene.add(controls.getObject());

      /*/cannon
      var world = new CANNON.World();
      world.gravity.set(0,-10,0);
      world.broadphase = new CANNON.NaiveBroadphase();
      var timeStamp = 1.0/60.0;
      
      var plane = new CANNON.Plane();
      var planebody = new CANNON.Body({shape:plane, mass:0});
      planebody.quaternion.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2);
      planebody.position.set(0,-2,0);
      world.addBody(planebody);

      var box = new CANNON.Box(new CANNON.Vec3(0.5,0.5,0.5));
      var boxBody = new CANNON.Body({shape:box,mass:1});
      boxBody.position.set(0,5,0);
      world.addBody(boxBody);

      var bGeo = new THREE.BoxGeometry(1,1,1);
      var bMat = new THREE.MeshBasicMaterial({color:0xffffff});
      var bMesh = new THREE.Mesh(bGeo,bMat);
      scene.add(bMesh);
      //let debugRenderer = new THREE.CannonDebugRenderer(scene,world);
      ///cannon*/
/*
      function drawScene(){
	  //world.step(timeStamp);
	  //bMesh.position.copy(boxBody.position);
	  //debugRenderer.update();
	  renderer.render(scene,camera);
	  requestAnimationFrame(drawScene);
      }
      drawScene();
*/
     animate();
    </script>
  </body>
</html>
